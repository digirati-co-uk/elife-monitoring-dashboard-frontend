# current.js

## renderArticles

get /api/current

###response

```json
{
  "error": [
    {
      "_publication-data": "eyJ3b3JrZmxvd19uYW1lIjogIlBvc3RQZXJmZWN0UHVibGljYXRpb24iLCAid29ya2Zsb3dfZGF0\nYSI6IHsic3RhdHVzIjogInZvciIsICJ1cGRhdGVfZGF0ZSI6ICIyMDE0LTExLTAzVDAwOjAwOjAw\nWiIsICJydW4iOiAiMjhlZWE1ODktMThhYy00MTczLTkxZDAtNThiNmQ0MGEzNWM3IiwgImV4cGFu\nZGVkX2ZvbGRlciI6ICIwMzQzMC4yLzI4ZWVhNTg5LTE4YWMtNDE3My05MWQwLTU4YjZkNDBhMzVj\nNyIsICJ2ZXJzaW9uIjogIjIiLCAiZWlmX2xvY2F0aW9uIjogIjAzNDMwLjIvMjhlZWE1ODktMThh\nYy00MTczLTkxZDAtNThiNmQ0MGEzNWM3L2VsaWZlLTAzNDMwLXYyLmpzb24iLCAiYXJ0aWNsZV9p\nZCI6ICIwMzQzMCJ9fQ==\n",
      "article-id": "03430",
      "article-type": "research-article",
      "authors": "Thomas A Hopf, Charlotta P I Sch\u00e4rfe, Jo\u00e3o P G L M Rodrigues, Anna G Green, Oliver Kohlbacher, Chris Sander, Alexandre M J J Bonvin, Debora S Marks, John Kuriyan",
      "corresponding-authors": "Chris Sander, Alexandre M J J Bonvin, Debora S Marks",
      "doi": "10.7554/eLife.03430",
      "event-status": "error",
      "event-timestamp": 1455095294,
      "event-type": "Post EIF",
      "id": "03430",
      "path": "content/3/e03430v2",
      "preview-link": "http://54.84.81.117/content/3/e03430v2",
      "publication-date": "2014-09-25T00:00:00Z",
      "publication-status": "publication in progress",
      "run": 5,
      "run-id": "c03211f7-6e1e-492d-9312-e0a80857873c",
      "status": "VOR",
      "title": "Sequence co-evolution gives 3D contacts and structures of protein complexes",
      "version": 2
    }
  ],
  "in-progress": [
    {
      "_publication-data": "eyJ3b3JrZmxvd19uYW1lIjogIlBvc3RQZXJmZWN0UHVibGljYXRpb24iLCAid29ya2Zsb3dfZGF0\nYSI6IHsic3RhdHVzIjogInZvciIsICJ1cGRhdGVfZGF0ZSI6ICIyMDE2LTAyLTA4VDE5OjU5OjQw\nWiIsICJydW4iOiAiZjdhMWI0OTgtYjVmNS00M2E4LWI1ZTQtY2MyNjU1MmM0NjkzIiwgImV4cGFu\nZGVkX2ZvbGRlciI6ICIwOTUzMi4yL2Y3YTFiNDk4LWI1ZjUtNDNhOC1iNWU0LWNjMjY1NTJjNDY5\nMyIsICJ2ZXJzaW9uIjogIjIiLCAiZWlmX2xvY2F0aW9uIjogIjA5NTMyLjIvZjdhMWI0OTgtYjVm\nNS00M2E4LWI1ZTQtY2MyNjU1MmM0NjkzL2VsaWZlLTA5NTMyLXYyLmpzb24iLCAiYXJ0aWNsZV9p\nZCI6ICIwOTUzMiJ9fQ==\n",
      "article-id": "09532",
      "article-type": "research-article",
      "authors": "Anusmita Sahoo, Shruti Khare, Sivasankar Devanarayanan, Pankaj C. Jain, Raghavan Varadarajan, John Kuriyan",
      "corresponding-authors": "Raghavan Varadarajan",
      "doi": "10.7554/eLife.09532",
      "event-status": "end",
      "event-timestamp": 1454964979,
      "event-type": "Update LAX",
      "id": "09532",
      "path": "content/4/e09532v2",
      "preview-link": "http://54.84.81.117/content/4/e09532v2",
      "publication-date": "2015-12-30T00:00:00Z",
      "publication-status": "published",
      "run": 2,
      "run-id": "f7a1b498-b5f5-43a8-b5e4-cc26552c4693",
      "status": "VOR",
      "title": "Residue proximity information and protein model discrimination using saturation-suppressor mutagenesis",
      "version": 2
    }
  ],
  "scheduled": [
    {
      "_publication-data": "eyJ3b3JrZmxvd19uYW1lIjogIlBvc3RQZXJmZWN0UHVibGljYXRpb24iLCAid29ya2Zsb3dfZGF0\nYSI6IHsic3RhdHVzIjogInZvciIsICJ1cGRhdGVfZGF0ZSI6ICIyMDE2LTAyLTA4VDE0OjE2OjMx\nWiIsICJydW4iOiAiYjZlZjVkMWYtMjNiMy00ZjRlLTliYTMtN2RlMjRmODg1MTcxIiwgImV4cGFu\nZGVkX2ZvbGRlciI6ICIwOTAwMy4zL2I2ZWY1ZDFmLTIzYjMtNGY0ZS05YmEzLTdkZTI0Zjg4NTE3\nMSIsICJ2ZXJzaW9uIjogIjMiLCAiZWlmX2xvY2F0aW9uIjogIjA5MDAzLjMvYjZlZjVkMWYtMjNi\nMy00ZjRlLTliYTMtN2RlMjRmODg1MTcxL2VsaWZlLTA5MDAzLXYzLmpzb24iLCAiYXJ0aWNsZV9p\nZCI6ICIwOTAwMyJ9fQ==\n",
      "article-id": "09003",
      "article-type": "research-article",
      "authors": "Miyuki Suzawa, Diego A Miranda, Karmela A Ramos, Kenny K-H Ang, Emily J Faivre, Christopher G Wilson, Laura Caboni, Michelle R Arkin, Yeong-Sang Kim, Robert J Fletterick, Aaron Diaz, John S Schneekloth, Holly A Ingraham, Peter Tontonoz",
      "corresponding-authors": "Holly A Ingraham",
      "doi": "10.7554/eLife.09003",
      "event-status": "end",
      "event-timestamp": 1454940991,
      "event-type": "Post EIF",
      "id": "09003",
      "path": "content/4/e09003v3",
      "preview-link": "http://54.84.81.117/content/4/e09003v3",
      "publication-date": "2015-12-11T00:00:00Z",
      "publication-status": "ready to publish",
      "run": 1,
      "run-id": "b6ef5d1f-23b3-4f4e-9ba3-7de24f885171",
      "scheduled-publication-date": 0,
      "status": "VOR",
      "title": "A gene-expression screen identifies a non-toxic sumoylation inhibitor that mimics SUMO-less human LRH-1 in liver",
      "version": 3
    }
  ],
  "uir": [
    {
      "_publication-data": "eyJ3b3JrZmxvd19uYW1lIjogIlBvc3RQZXJmZWN0UHVibGljYXRpb24iLCAid29ya2Zsb3dfZGF0\nYSI6IHsic3RhdHVzIjogInZvciIsICJ1cGRhdGVfZGF0ZSI6ICIyMDE2LTAyLTA5VDAxOjIxOjA1\nWiIsICJydW4iOiAiZjQ3OWQ3NTItYjFkNS00MjQ4LThmYWUtMWNkNmRiOTAwMjU2IiwgImV4cGFu\nZGVkX2ZvbGRlciI6ICIxMTQwNy4zL2Y0NzlkNzUyLWIxZDUtNDI0OC04ZmFlLTFjZDZkYjkwMDI1\nNiIsICJ2ZXJzaW9uIjogIjMiLCAiZWlmX2xvY2F0aW9uIjogIjExNDA3LjMvZjQ3OWQ3NTItYjFk\nNS00MjQ4LThmYWUtMWNkNmRiOTAwMjU2L2VsaWZlLTExNDA3LXYzLmpzb24iLCAiYXJ0aWNsZV9p\nZCI6ICIxMTQwNyJ9fQ==\n",
      "article-id": "11407",
      "article-type": "research-article",
      "authors": "Saranya Subramani, Harmonie Perdreau-Dahl, Jens Preben Morth, Eduardo A Groisman",
      "corresponding-authors": "Jens Preben Morth",
      "doi": "10.7554/eLife.11407",
      "event-status": "end",
      "event-timestamp": 1454980865,
      "event-type": "Post EIF",
      "id": "11407",
      "path": "content/5/e11407v3",
      "preview-link": "http://54.84.81.117/content/5/e11407v3",
      "publication-date": "2016-01-18T00:00:00Z",
      "publication-status": "ready to publish",
      "run": 2,
      "run-id": "f479d752-b1d5-4248-8fae-1cd6db900256",
      "status": "VOR",
      "title": "The magnesium transporter A is activated by cardiolipin and is highly sensitive to free magnesium in vitro",
      "version": 3
    }
  ]
}
```

---------------------------------

# details.js

## getDetailActions

post /api/article_scheduled_status

### request

```json
{"articles":["00353"]}
```

### response
```json
{
  "articles": [
    {
      "article-identifier": "00353",
      "published": false,
      "scheduled": 1460545200
    }
  ]
}
```
## getArticle

get api/article/' + this.queryParams.articleId

### response

```json
{
  "id": "00353",
  "versions": {
    "1": {
      "details": {
        "article-type": "discussion",
        "authors": "Eve Marder",
        "corresponding-authors": "Eve Marder",
        "doi": "10.7554/eLife.00353",
        "preview-link": "http://54.84.81.117/content/1/e00353v1",
        "publication-date": "2012-12-13T00:00:00Z",
        "publication-status": "published",
        "status": "VOR",
        "title": "A good life",
        "version-number": "1"
      },
      "runs": {
        "1": {
          "events": [
            {
              "event-message": "Finished applying version number to article 00353 for version 1 run 691b6f64-f341-4c13-8644-8c285c0d452f",
              "event-status": "end",
              "event-timestamp": 1458735306,
              "event-type": "Apply Version Number"
            },
            {
              "event-message": "XML converted to EIF for article 00353 to 00353.1/691b6f64-f341-4c13-8644-8c285c0d452f/elife-00353-v1.json",
              "event-status": "end",
              "event-timestamp": 1458735308,
              "event-type": "Convert JATS"
            },
            {
              "event-message": "Starting Ending setting of publish status for 00353",
              "event-status": "start",
              "event-timestamp": 1458735309,
              "event-type": "Set Publication Status"
            },
            {
              "event-message": "Finished submitting EIF for article  00353 status was 200",
              "event-status": "end",
              "event-timestamp": 1458735322,
              "event-type": "Post EIF"
            }
          ],
          "first-event-timestamp": 1458735306,
          "run-id": "691b6f64-f341-4c13-8644-8c285c0d452f",
          "run-number": "1",
          "version-number": "1"
        },
        "2": {
          "events": [
            {
              "event-message": "Starting expansion of article 00353",
              "event-status": "start",
              "event-timestamp": 1458735318,
              "event-type": "Expand Article"
            },
            {
              "event-message": "Finished applying version number to article 00353 for version 1 run 54dd39d7-a863-448c-96af-ae64ab66567f",
              "event-status": "end",
              "event-timestamp": 1458735322,
              "event-type": "Apply Version Number"
            }
          ],
          "first-event-timestamp": 1458735318,
          "run-id": "54dd39d7-a863-448c-96af-ae64ab66567f",
          "run-number": "2",
          "version-number": "1"
        }
      }
    }
  }
}
```

---------------------------------

# scheduled.js

## fetchScheduledArticles

post /api/article_schedule_for_range/from/' + start + '/to/' + end + '/'

### request

/api/article_schedule_for_range/from/1460470852/to/1492006852/

### response

```json
{
  "articles": [
    {
      "article-id": "00353",
      "article-type": "discussion",
      "authors": "Eve Marder",
      "corresponding-authors": "Eve Marder",
      "doi": "10.7554/eLife.00353",
      "event-status": "end",
      "event-timestamp": 1458735322,
      "event-type": "Apply Version Number",
      "id": "00353",
      "is-advance": false,
      "path": "content/1/e00353v1",
      "preview-link": "http://54.84.81.117/content/1/e00353v1",
      "publication-date": "2012-12-13T00:00:00Z",
      "publication-status": "published",
      "run": 2,
      "run-id": "54dd39d7-a863-448c-96af-ae64ab66567f",
      "scheduled-publication-date": 1460545200,
      "status": "VOR",
      "title": "A good life",
      "version": 1
    }
  ]
}
```


---------------------------------

# publish.js

## queueArticles

post api/queue_article_publication

### request
```json
{articles: [{id: "08149", version: "3", run: "2dbebfa6-01c5-49c9-9b18-fb2c9e03161f"}]}
```
### response
```json
{
  "articles": [
    {
      "id": "08149",
      "publication-status": "error",
      "run": "2dbebfa6-01c5-49c9-9b18-fb2c9e03161f",
      "version": "3"
    }
  ]
}
```


## checkArticleStatus

post /api/article_publication_status

### request

```json
{"articles":[{"id":"08149","publication-status":"error","run":"2dbebfa6-01c5-49c9-9b18-fb2c9e03161f","version":"3"}]}
```

### response

```json
{
  "articles": [
    {
      "id": "08149",
      "message": "",
      "publication-status": "ready to publish",
      "run": "2dbebfa6-01c5-49c9-9b18-fb2c9e03161f",
      "version": "3"
    }
  ]
}
```

## performSchedule

post api/schedule_article_publication

### request
```json
{"article":{"article-identifier":"00353","scheduled":"1460491200"}}
{"article":{"article-identifier":"00353","scheduled":false}}
```
### response
```json
{
  "result": "success"
}
```